<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supermercado Inovador</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <header>
        <h1>Supermercado Inovador</h1>
        <nav>
            <ul>
                <li><a href="#categories">Categorias</a></li>
                <li><a href="#cart">Carrinho</a></li>
                <li><a href="#contact">Contato</a></li>
                <li><a href="#construction-materials">Materiais de Construção</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="categories">
            <h2>Produtos em Promoção</h2>
            <div class="product-grid">
                <!-- Frutas -->
                <div class="product-card">
                    <img src="apple.jpg" alt="Maçã">
                    <div class="product-info">
                        <h4>Maçã</h4>
                        <p>R$ 2,99</p>
                        <button onclick="addToCart('Maçã', 2.99)">Adicionar ao Carrinho</button>
                    </div>
                </div>
                
                <!-- Vegetais -->
                <div class="product-card">
                    <img src="carrot.jpg" alt="Cenoura">
                    <div class="product-info">
                        <h4>Cenoura</h4>
                        <p>R$ 1,99</p>
                        <button onclick="addToCart('Cenoura', 1.99)">Adicionar ao Carrinho</button>
                    </div>
                </div>
                
                <!-- Carnes -->
                <div class="product-card">
                    <img src="beef.jpg" alt="Carne de Vaca">
                    <div class="product-info">
                        <h4>Carne de Vaca</h4>
                        <p>R$ 25,99/kg</p>
                        <button onclick="addToCart('Carne de Vaca', 25.99)">Adicionar ao Carrinho</button>
                    </div>
                </div>

                <!-- Produtos de Limpeza -->
                <div class="product-card">
                    <img src="detergent.jpg" alt="Detergente">
                    <div class="product-info">
                        <h4>Detergente</h4>
                        <p>R$ 3,49</p>
                        <button onclick="addToCart('Detergente', 3.49)">Adicionar ao Carrinho</button>
                    </div>
                </div>

                <!-- Gelados -->
                <div class="product-card">
                    <img src="ice-cream.jpg" alt="Sorvete">
                    <div class="product-info">
                        <h4>Sorvete</h4>
                        <p>R$ 7,99</p>
                        <button onclick="addToCart('Sorvete', 7.99)">Adicionar ao Carrinho</button>
                    </div>
                </div>

                <!-- Cervejas -->
                <div class="product-card">
                    <img src="beer.jpg" alt="Cerveja">
                    <div class="product-info">
                        <h4>Cerveja</h4>
                        <p>R$ 5,99</p>
                        <button onclick="addToCart('Cerveja', 5.99)">Adicionar ao Carrinho</button>
                    </div>
                </div>

                <!-- Refrigerantes -->
                <div class="product-card">
                    <img src="soda.jpg" alt="Refrigerante">
                    <div class="product-info">
                        <h4>Refrigerante</h4>
                        <p>R$ 4,49</p>
                        <button onclick="addToCart('Refrigerante', 4.49)">Adicionar ao Carrinho</button>
                    </div>
                </div>

                <!-- Materiais de Construção -->
                <div class="product-card">
                    <img src="cimento.jpg" alt="Cimento">
                    <div class="product-info">
                        <h4>Cimento</h4>
                        <p>R$ 20,00</p>
                        <button onclick="addToCart('Cimento', 20.00)">Adicionar ao Carrinho</button>
                    </div>
                </div>

                <div class="product-card">
                    <img src="argamassa.jpg" alt="Argamassa">
                    <div class="product-info">
                        <h4>Argamassa</h4>
                        <p>R$ 25,00</p>
                        <button onclick="addToCart('Argamassa', 25.00)">Adicionar ao Carrinho</button>
                    </div>
                </div>

                <div class="product-card">
                    <img src="tinta.jpg" alt="Tinta">
                    <div class="product-info">
                        <h4>Tinta</h4>
                        <p>R$ 50,00</p>
                        <button onclick="addToCart('Tinta', 50.00)">Adicionar ao Carrinho</button>
                    </div>
                </div>

                <div class="product-card">
                    <img src="lixa.jpg" alt="Lixa">
                    <div class="product-info">
                        <h4>Lixa</h4>
                        <p>R$ 10,00</p>
                        <button onclick="addToCart('Lixa', 10.00)">Adicionar ao Carrinho</button>
                    </div>
                </div>

                <div class="product-card">
                    <img src="air-fryer.jpg" alt="Air Fryer">
                    <div class="product-info">
                        <h4>Air Fryer</h4>
                        <p>R$ 299,00</p>
                        <button onclick="addToCart('Air Fryer', 299.00)">Adicionar ao Carrinho</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="cart">
            <h2>Carrinho de Compras</h2>
            <form id="cart-form">
                <div id="cart-items">
                    <!-- Itens do carrinho serão adicionados aqui dinamicamente -->
                </div>
                <textarea id="cart-details" name="text" placeholder="Seu carrinho está vazio..." readonly></textarea>
                <button type="button" onclick="submitCart('budget')">Enviar ORÇAMENTO pelo WhatsApp</button>
                <button type="button" onclick="submitCart('order')">Finalizar Compra</button>
            </form>
        </section>
        
        <section id="contact">
            <h2>Formas de Pagamento</h2>
            <form id="payment-form">
                <label for="payment-method">Método de Pagamento:</label>
                <select id="payment-method" name="payment-method">
                    <option value="pix">PIX</option>
                    <option value="credit-card">Cartão de Crédito</option>
                    <option value="debit-card">Cartão de Débito</option>
                </select>
                <div id="pix-details" style="display: none;">
                    <p><strong>Chave PIX:</strong> rafaelbasileu7@gmail.com</p>
                </div>
                <label for="address">Endereço para Entrega com ponto de referencia:</label>
                <textarea id="address" name="address" placeholder="Digite seu endereço para entrega" rows="4"></textarea>
            </form>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Supermercado Inovador. Todos os direitos reservados.</p>
        <p>Rua Jose Paiva, 152, Bairro-Ayrton Senna, Cidade-Colatina ES -</p>
        <p>Email: contato@supermercadoinovador.com.br</p>
        <div class="social-links">
            <a href="https://www.facebook.com/profile.php?id=100037715648824" target="_blank">Facebook</a>
            <a href="https://www.instagram.com/orbdosn/" target="_blank">Instagram</a>
            <a href="https://api.whatsapp.com/send?phone=5519998249223" target="_blank">WhatsApp</a>
        </div>
    </footer>

    <script>
        let cartItems = [];
        const MINIMUM_ORDER_AMOUNT = 50.00;  // Valor mínimo de compra para entrega

        function addToCart(product, price) {
            cartItems.push({ product, price });
            updateCartDetails();
        }

        function removeFromCart(index) {
            cartItems.splice(index, 1);
            updateCartDetails();
        }

        function updateCartDetails() {
            const cartItemsContainer = document.getElementById('cart-items');
            const cartDetails = document.getElementById('cart-details');
            
            cartItemsContainer.innerHTML = cartItems.map((item, index) => `
                <div class="cart-item">
                    <span>${item.product} - R$ ${item.price.toFixed(2)}</span>
                    <button onclick="removeFromCart(${index})">Remover</button>
                </div>
            `).join('');

            cartDetails.value = cartItems.length > 0 ? cartItems.map(item => `${item.product} - R$ ${item.price.toFixed(2)}`).join('\n') : 'Seu carrinho está vazio...';
        }

        function submitCart(type) {
            const paymentMethod = document.getElementById('payment-method').value;
            const address = document.getElementById('address').value;

            const totalAmount = cartItems.reduce((sum, item) => sum + item.price, 0);
            if (type === 'order' && totalAmount < MINIMUM_ORDER_AMOUNT) {
                alert(`O valor mínimo de compra para entrega é R$ ${MINIMUM_ORDER_AMOUNT.toFixed(2)}.`);
                return;
            }

            let message = '';

            if (type === 'budget') {
                message = `*Pedido de Orçamento:*\n\n${cartItems.map(item => `${item.product} - R$ ${item.price.toFixed(2)}`).join('\n')}`;
            } else if (type === 'order') {
                message = `*Pedido Solicitado:*\n\n${cartItems.map(item => `${item.product} - R$ ${item.price.toFixed(2)}`).join('\n')}\n\n*Forma de Pagamento:* ${paymentMethod}`;
                if (paymentMethod === 'pix') {
                    message += `\n\n**Chave PIX:** rafaelbasileu7@gmail.com`;
                }
                if (address) {
                    message += `\n\n**Endereço para Entrega:** ${address}`;
                }
                message += `\n\nEfetue o pagamento e aguarde a confirmação do seu pedido. Obrigado!`;
            }

            window.open(`https://api.whatsapp.com/send?phone=5519998249223&text=${encodeURIComponent(message)}`, '_blank');
        }

        document.getElementById('payment-method').addEventListener('change', function () {
            document.getElementById('pix-details').style.display = this.value === 'pix' ? 'block' : 'none';
        });
    </script>
</body>
</html>
